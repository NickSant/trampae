{"version":3,"sources":["../../src/helpers/mailer.js"],"names":["require","Mailer","transporter","nodemailer","createTransport","host","process","env","MAIL_HOST","port","MAIL_PORT","secure","auth","user","MAIL_USER","pass","MAIL_PASS","configs","to","subject","htmlBody","from","html","Error","sendMail","send"],"mappings":";;;;;;;;AAAA;;;;;;;;;;AACAA,QAAQ,eAAR;;IAEMC,M;AACF,sBAAa;AAAA;;AACT,aAAKC,WAAL,GAAmBC,qBAAWC,eAAX,CAA2B;AAC1CC,kBAAMC,QAAQC,GAAR,CAAYC,SADwB;AAE1CC,kBAAMH,QAAQC,GAAR,CAAYG,SAFwB;AAG1CC,oBAAO,KAHmC;AAI1CC,kBAAK;AACDC,sBAAKP,QAAQC,GAAR,CAAYO,SADhB;AAEDC,sBAAMT,QAAQC,GAAR,CAAYS;AAFjB;AAJqC,SAA3B,CAAnB;;AAUA,aAAKC,OAAL,GAAe,EAAf;AACH;;;;uCAEcC,E,EAAIC,O,EAASC,Q,EAAS;AACjC,iBAAKH,OAAL,GAAe;AACXI,sBAAMf,QAAQC,GAAR,CAAYO,SADP;AAEXI,oBAAIA,EAFO;AAGXC,6CAAwBA,OAHb;;AAKXG,sBAAMF;AALK,aAAf;AAOH;;;;;;;;;;sCAGM,KAAKH,OAAL,KAAiB,E;;;;;sCAAU,IAAIM,KAAJ,CAAU,6DAAV,C;;;;uCAEX,KAAKrB,WAAL,CAAiBsB,QAAjB,CAA0B,KAAKP,OAA/B,C;;;AAAbQ,oC;;qCAEHA,I;;;;;iEAAa,I;;;iEAET,K;;;;;;;;;;;;;;;;;;;;;kBAGAxB,M","file":"mailer.js","sourcesContent":["import nodemailer from 'nodemailer';\nrequire('dotenv/config');\n\nclass Mailer{\n    constructor(){\n        this.transporter = nodemailer.createTransport({\n            host: process.env.MAIL_HOST,\n            port: process.env.MAIL_PORT,\n            secure:false,\n            auth:{\n                user:process.env.MAIL_USER,\n                pass: process.env.MAIL_PASS,\n            },\n        });\n\n        this.configs = '';\n    }\n\n    setMailConfigs(to, subject, htmlBody){\n        this.configs = {\n            from: process.env.MAIL_USER,\n            to: to,\n            subject: `[Trampaê] - ${subject}`,\n\n            html: htmlBody\n        }\n    }\n\n    async send(){\n        if(this.configs === '') throw new Error('Você precisa setar as configurações antes de enviar o email');\n\n        const send = await this.transporter.sendMail(this.configs);\n\n        if(send) return true;\n\n        return false;\n    }\n}\nexport default Mailer;"]}