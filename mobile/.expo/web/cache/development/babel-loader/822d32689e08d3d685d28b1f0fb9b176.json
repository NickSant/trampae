{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nvar _jsxFileName = \"C:\\\\tcc\\\\trampae\\\\mobile\\\\src\\\\pages\\\\Home\\\\index.js\";\nimport React, { useEffect, useState } from 'react';\nimport axios from 'axios';\nimport estilo from \"./styles\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport Button from \"react-native-web/dist/exports/Button\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport AsyncStorage from \"react-native-web/dist/exports/AsyncStorage\";\nimport ToastAndroid from \"react-native-web/dist/exports/ToastAndroid\";\nimport { useNavigation } from '@react-navigation/native';\nimport logoImg from \"../../assets/icon.png\";\nimport { TextInput, ScrollView } from 'react-native-gesture-handler';\nimport api from \"../../services/api\";\nexport default function Index() {\n  var nav = useNavigation();\n\n  var _useState = useState({}),\n      _useState2 = _slicedToArray(_useState, 2),\n      user = _useState2[0],\n      setUser = _useState2[1];\n\n  useEffect(function () {\n    var token = AsyncStorage.getItem('token').then(function (token) {\n      if (!token) {\n        ToastAndroid.show('Você não é autorizado aqui seu bosta.', ToastAndroid.LONG);\n        nav.navigate('login');\n      }\n\n      ToastAndroid.show(\"TOKEN: \" + token, ToastAndroid.LONG);\n      fetch(api + \"/me\", {\n        method: 'GET',\n        headers: {\n          \"Content-Type\": \"application/json\",\n          \"authorization\": \"Bearer \" + token\n        }\n      }).then(function (res) {\n        return res.json().then(function (data) {\n          console.log(\"USER:\" + data.name);\n          setUser(data);\n        });\n      });\n    });\n  }, []);\n\n  function goToRegister() {\n    nav.navigate('register');\n  }\n\n  useEffect(function () {\n    console.log('iniciou');\n  }, []);\n  return React.createElement(View, {\n    style: estilo.container,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 9\n    }\n  }, React.createElement(Text, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 13\n    }\n  }, \"Bem vindo, \", user.name));\n}","map":{"version":3,"sources":["C:/tcc/trampae/mobile/src/pages/Home/index.js"],"names":["React","useEffect","useState","axios","estilo","useNavigation","logoImg","TextInput","ScrollView","api","Index","nav","user","setUser","token","AsyncStorage","getItem","then","ToastAndroid","show","LONG","navigate","fetch","method","headers","res","json","data","console","log","name","goToRegister","container"],"mappings":";;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,QAA2C,OAA3C;AACA,OAAOC,KAAP,MAAkB,OAAlB;AAEA,OAAOC,MAAP;;;;;;;;AAEA,SAASC,aAAT,QAA8B,0BAA9B;AACA,OAAOC,OAAP;AACA,SAASC,SAAT,EAAoBC,UAApB,QAAsC,8BAAtC;AAEA,OAAOC,GAAP;AAGA,eAAe,SAASC,KAAT,GAAgB;AAE3B,MAAMC,GAAG,GAAGN,aAAa,EAAzB;;AAF2B,kBAIHH,QAAQ,CAAC,EAAD,CAJL;AAAA;AAAA,MAIpBU,IAJoB;AAAA,MAIdC,OAJc;;AAO3BZ,EAAAA,SAAS,CAAC,YAAK;AACX,QAAMa,KAAK,GAAGC,YAAY,CAACC,OAAb,CAAqB,OAArB,EACbC,IADa,CACR,UAAAH,KAAK,EAAG;AACV,UAAG,CAACA,KAAJ,EAAU;AACNI,QAAAA,YAAY,CAACC,IAAb,CAAkB,uCAAlB,EAA2DD,YAAY,CAACE,IAAxE;AACAT,QAAAA,GAAG,CAACU,QAAJ,CAAa,OAAb;AACH;;AACDH,MAAAA,YAAY,CAACC,IAAb,aAA4BL,KAA5B,EAAqCI,YAAY,CAACE,IAAlD;AAEAE,MAAAA,KAAK,CAAIb,GAAJ,UAAa;AACdc,QAAAA,MAAM,EAAC,KADO;AAEdC,QAAAA,OAAO,EAAC;AACJ,0BAAgB,kBADZ;AAEJ,uCAA0BV;AAFtB;AAFM,OAAb,CAAL,CAMGG,IANH,CAMS,UAAAQ,GAAG;AAAA,eAAIA,GAAG,CAACC,IAAJ,GAAWT,IAAX,CAAiB,UAAAU,IAAI,EAAG;AACpCC,UAAAA,OAAO,CAACC,GAAR,WAAoBF,IAAI,CAACG,IAAzB;AACAjB,UAAAA,OAAO,CAACc,IAAD,CAAP;AACH,SAHe,CAAJ;AAAA,OANZ;AAUH,KAlBa,CAAd;AAoBH,GArBQ,EAqBP,EArBO,CAAT;;AAwBA,WAASI,YAAT,GAAuB;AACnBpB,IAAAA,GAAG,CAACU,QAAJ,CAAa,UAAb;AACH;;AAKDpB,EAAAA,SAAS,CAAC,YAAK;AACX2B,IAAAA,OAAO,CAACC,GAAR,CAAY,SAAZ;AAEH,GAHQ,EAGP,EAHO,CAAT;AAOA,SACI,oBAAC,IAAD;AAAM,IAAA,KAAK,EAAEzB,MAAM,CAAC4B,SAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAEI,oBAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACgBpB,IAAI,CAACkB,IADrB,CAFJ,CADJ;AAQH","sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport axios from 'axios';\r\n\r\nimport estilo from './styles';\r\nimport { View, Text, Image, Button, TouchableOpacity, AsyncStorage, ToastAndroid} from 'react-native';\r\nimport { useNavigation } from '@react-navigation/native';\r\nimport logoImg from '../../assets/icon.png';\r\nimport { TextInput, ScrollView } from 'react-native-gesture-handler';\r\n\r\nimport api from '../../services/api';\r\n\r\n\r\nexport default function Index(){\r\n\r\n    const nav = useNavigation();\r\n\r\n    const [user, setUser] = useState({});\r\n\r\n\r\n    useEffect(() =>{\r\n        const token = AsyncStorage.getItem('token')\r\n        .then(token =>{\r\n            if(!token){\r\n                ToastAndroid.show('Você não é autorizado aqui seu bosta.', ToastAndroid.LONG);\r\n                nav.navigate('login');\r\n            }\r\n            ToastAndroid.show(`TOKEN: ${token}`, ToastAndroid.LONG);\r\n\r\n            fetch(`${api}/me`,{\r\n                method:'GET', \r\n                headers:{\r\n                    \"Content-Type\": \"application/json\",\r\n                    \"authorization\":`Bearer ${token}`\r\n                }\r\n            }).then( res => res.json().then( data =>{\r\n                console.log(`USER:${data.name}`)\r\n                setUser(data);\r\n            }));\r\n        })\r\n        \r\n    },[])\r\n\r\n\r\n    function goToRegister(){\r\n        nav.navigate('register')\r\n    }\r\n\r\n\r\n    \r\n\r\n    useEffect(() =>{\r\n        console.log('iniciou');\r\n        \r\n    },[])\r\n\r\n    \r\n\r\n    return(\r\n        <View style={estilo.container}>\r\n            \r\n            <Text>\r\n                Bem vindo, {user.name}\r\n            </Text>\r\n        </View>\r\n    );\r\n}"]},"metadata":{},"sourceType":"module"}