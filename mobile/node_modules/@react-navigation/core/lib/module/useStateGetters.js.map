{"version":3,"sources":["useStateGetters.tsx"],"names":["React","useStateGetters","stateGetters","useRef","getStateForRoute","useCallback","routeKey","getter","current","undefined","addStateGetter","key"],"mappings":"AAAA,OAAO,KAAKA,KAAZ,MAAuB,OAAvB;;AAGA;;;AAIA,eAAe,SAASC,eAAT,GAA2B;AACxC,QAAMC,YAAY,GAAGF,KAAK,CAACG,MAAN,CAEnB,EAFmB,CAArB;AAIA,QAAMC,gBAAgB,GAAGJ,KAAK,CAACK,WAAN,CACtBC,QAAD,IAAsB;AACpB,UAAMC,MAAM,GAAGL,YAAY,CAACM,OAAb,CAAqBF,QAArB,CAAf;AACA,WAAOC,MAAM,KAAKE,SAAX,GAAuBA,SAAvB,GAAmCF,MAAM,EAAhD;AACD,GAJsB,EAKvB,CAACL,YAAD,CALuB,CAAzB;AAQA,QAAMQ,cAAc,GAAGV,KAAK,CAACK,WAAN,CACrB,CAACM,GAAD,EAAcJ,MAAd,KAA+C;AAC7CL,IAAAA,YAAY,CAACM,OAAb,CAAqBG,GAArB,IAA4BJ,MAA5B;AAEA,WAAO,MAAM;AACXL,MAAAA,YAAY,CAACM,OAAb,CAAqBG,GAArB,IAA4BF,SAA5B;AACD,KAFD;AAGD,GAPoB,EAQrB,EARqB,CAAvB;AAWA,SAAO;AACLL,IAAAA,gBADK;AAELM,IAAAA;AAFK,GAAP;AAID","sourcesContent":["import * as React from 'react';\nimport type { NavigatorStateGetter } from './NavigationBuilderContext';\n\n/**\n * Hook which lets child navigators add getters to be called for obtaining rehydrated state.\n */\n\nexport default function useStateGetters() {\n  const stateGetters = React.useRef<\n    Record<string, NavigatorStateGetter | undefined>\n  >({});\n\n  const getStateForRoute = React.useCallback(\n    (routeKey: string) => {\n      const getter = stateGetters.current[routeKey];\n      return getter === undefined ? undefined : getter();\n    },\n    [stateGetters]\n  );\n\n  const addStateGetter = React.useCallback(\n    (key: string, getter: NavigatorStateGetter) => {\n      stateGetters.current[key] = getter;\n\n      return () => {\n        stateGetters.current[key] = undefined;\n      };\n    },\n    []\n  );\n\n  return {\n    getStateForRoute,\n    addStateGetter,\n  };\n}\n"]}